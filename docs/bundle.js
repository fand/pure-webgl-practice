!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nin vec3 position;\nuniform mat4 mvpMatrix;\nuniform float time;\n\nvoid main(void) {\n    gl_Position = mvpMatrix * vec4(position, 1.0);\n    gl_PointSize = 10.;\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nuniform float time;\nuniform vec2 resolution;\nout vec4 fragColor;\n\nvoid main(void){\n    vec2 uv = gl_FragCoord.xy / resolution;\n    fragColor = vec4(uv.x, uv.y, abs(sin(time)), 1.0);\n\n    vec2 p = (gl_FragCoord.xy * 2. - resolution) / min(resolution.x, resolution.y);\n    if (length(p) < .3) {\n        fragColor.rgb = 1. - fragColor.rgb;\n    }\n}\n"},function(t,e,n){"use strict";n.r(e);var r={};n.d(r,"create",function(){return a}),n.d(r,"clone",function(){return s}),n.d(r,"copy",function(){return u}),n.d(r,"fromValues",function(){return l}),n.d(r,"set",function(){return c}),n.d(r,"identity",function(){return h}),n.d(r,"transpose",function(){return f}),n.d(r,"invert",function(){return g}),n.d(r,"adjoint",function(){return d}),n.d(r,"determinant",function(){return m}),n.d(r,"multiply",function(){return v}),n.d(r,"translate",function(){return p}),n.d(r,"scale",function(){return T}),n.d(r,"rotate",function(){return b}),n.d(r,"rotateX",function(){return x}),n.d(r,"rotateY",function(){return M}),n.d(r,"rotateZ",function(){return E}),n.d(r,"fromTranslation",function(){return y}),n.d(r,"fromScaling",function(){return w}),n.d(r,"fromRotation",function(){return R}),n.d(r,"fromXRotation",function(){return A}),n.d(r,"fromYRotation",function(){return _}),n.d(r,"fromZRotation",function(){return F}),n.d(r,"fromRotationTranslation",function(){return U}),n.d(r,"getTranslation",function(){return S}),n.d(r,"getScaling",function(){return L}),n.d(r,"getRotation",function(){return P}),n.d(r,"fromRotationTranslationScale",function(){return I}),n.d(r,"fromRotationTranslationScaleOrigin",function(){return D}),n.d(r,"fromQuat",function(){return C}),n.d(r,"frustum",function(){return B}),n.d(r,"perspective",function(){return X}),n.d(r,"perspectiveFromFieldOfView",function(){return O}),n.d(r,"ortho",function(){return k}),n.d(r,"lookAt",function(){return G}),n.d(r,"targetTo",function(){return N}),n.d(r,"str",function(){return q}),n.d(r,"frob",function(){return Y}),n.d(r,"add",function(){return j}),n.d(r,"subtract",function(){return V}),n.d(r,"multiplyScalar",function(){return H}),n.d(r,"multiplyScalarAndAdd",function(){return z}),n.d(r,"exactEquals",function(){return W}),n.d(r,"equals",function(){return Q}),n.d(r,"mul",function(){return Z}),n.d(r,"sub",function(){return K});const i=1e-6;let o="undefined"!=typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function a(){let t=new o(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s(t){let e=new o(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function l(t,e,n,r,i,a,s,u,l,c,h,f,g,d,m,v){let p=new o(16);return p[0]=t,p[1]=e,p[2]=n,p[3]=r,p[4]=i,p[5]=a,p[6]=s,p[7]=u,p[8]=l,p[9]=c,p[10]=h,p[11]=f,p[12]=g,p[13]=d,p[14]=m,p[15]=v,p}function c(t,e,n,r,i,o,a,s,u,l,c,h,f,g,d,m,v){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=h,t[11]=f,t[12]=g,t[13]=d,t[14]=m,t[15]=v,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function f(t,e){if(t===e){let n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function g(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],g=e[11],d=e[12],m=e[13],v=e[14],p=e[15],T=n*s-r*a,b=n*u-i*a,x=n*l-o*a,M=r*u-i*s,E=r*l-o*s,y=i*l-o*u,w=c*m-h*d,R=c*v-f*d,A=c*p-g*d,_=h*v-f*m,F=h*p-g*m,U=f*p-g*v,S=T*U-b*F+x*_+M*A-E*R+y*w;return S?(S=1/S,t[0]=(s*U-u*F+l*_)*S,t[1]=(i*F-r*U-o*_)*S,t[2]=(m*y-v*E+p*M)*S,t[3]=(f*E-h*y-g*M)*S,t[4]=(u*A-a*U-l*R)*S,t[5]=(n*U-i*A+o*R)*S,t[6]=(v*x-d*y-p*b)*S,t[7]=(c*y-f*x+g*b)*S,t[8]=(a*F-s*A+l*w)*S,t[9]=(r*A-n*F-o*w)*S,t[10]=(d*E-m*x+p*T)*S,t[11]=(h*x-c*E-g*T)*S,t[12]=(s*R-a*_-u*w)*S,t[13]=(n*_-r*R+i*w)*S,t[14]=(m*b-d*M-v*T)*S,t[15]=(c*M-h*b+f*T)*S,t):null}function d(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],g=e[11],d=e[12],m=e[13],v=e[14],p=e[15];return t[0]=s*(f*p-g*v)-h*(u*p-l*v)+m*(u*g-l*f),t[1]=-(r*(f*p-g*v)-h*(i*p-o*v)+m*(i*g-o*f)),t[2]=r*(u*p-l*v)-s*(i*p-o*v)+m*(i*l-o*u),t[3]=-(r*(u*g-l*f)-s*(i*g-o*f)+h*(i*l-o*u)),t[4]=-(a*(f*p-g*v)-c*(u*p-l*v)+d*(u*g-l*f)),t[5]=n*(f*p-g*v)-c*(i*p-o*v)+d*(i*g-o*f),t[6]=-(n*(u*p-l*v)-a*(i*p-o*v)+d*(i*l-o*u)),t[7]=n*(u*g-l*f)-a*(i*g-o*f)+c*(i*l-o*u),t[8]=a*(h*p-g*m)-c*(s*p-l*m)+d*(s*g-l*h),t[9]=-(n*(h*p-g*m)-c*(r*p-o*m)+d*(r*g-o*h)),t[10]=n*(s*p-l*m)-a*(r*p-o*m)+d*(r*l-o*s),t[11]=-(n*(s*g-l*h)-a*(r*g-o*h)+c*(r*l-o*s)),t[12]=-(a*(h*v-f*m)-c*(s*v-u*m)+d*(s*f-u*h)),t[13]=n*(h*v-f*m)-c*(r*v-i*m)+d*(r*f-i*h),t[14]=-(n*(s*v-u*m)-a*(r*v-i*m)+d*(r*u-i*s)),t[15]=n*(s*f-u*h)-a*(r*f-i*h)+c*(r*u-i*s),t}function m(t){let e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],g=t[12],d=t[13],m=t[14],v=t[15];return(e*a-n*o)*(h*v-f*m)-(e*s-r*o)*(c*v-f*d)+(e*u-i*o)*(c*m-h*d)+(n*s-r*a)*(l*v-f*g)-(n*u-i*a)*(l*m-h*g)+(r*u-i*s)*(l*d-c*g)}function v(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],g=e[10],d=e[11],m=e[12],v=e[13],p=e[14],T=e[15],b=n[0],x=n[1],M=n[2],E=n[3];return t[0]=b*r+x*s+M*h+E*m,t[1]=b*i+x*u+M*f+E*v,t[2]=b*o+x*l+M*g+E*p,t[3]=b*a+x*c+M*d+E*T,b=n[4],x=n[5],M=n[6],E=n[7],t[4]=b*r+x*s+M*h+E*m,t[5]=b*i+x*u+M*f+E*v,t[6]=b*o+x*l+M*g+E*p,t[7]=b*a+x*c+M*d+E*T,b=n[8],x=n[9],M=n[10],E=n[11],t[8]=b*r+x*s+M*h+E*m,t[9]=b*i+x*u+M*f+E*v,t[10]=b*o+x*l+M*g+E*p,t[11]=b*a+x*c+M*d+E*T,b=n[12],x=n[13],M=n[14],E=n[15],t[12]=b*r+x*s+M*h+E*m,t[13]=b*i+x*u+M*f+E*v,t[14]=b*o+x*l+M*g+E*p,t[15]=b*a+x*c+M*d+E*T,t}function p(t,e,n){let r,i,o,a,s,u,l,c,h,f,g,d,m=n[0],v=n[1],p=n[2];return e===t?(t[12]=e[0]*m+e[4]*v+e[8]*p+e[12],t[13]=e[1]*m+e[5]*v+e[9]*p+e[13],t[14]=e[2]*m+e[6]*v+e[10]*p+e[14],t[15]=e[3]*m+e[7]*v+e[11]*p+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],g=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=g,t[11]=d,t[12]=r*m+s*v+h*p+e[12],t[13]=i*m+u*v+f*p+e[13],t[14]=o*m+l*v+g*p+e[14],t[15]=a*m+c*v+d*p+e[15]),t}function T(t,e,n){let r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function b(t,e,n,r){let o,a,s,u,l,c,h,f,g,d,m,v,p,T,b,x,M,E,y,w,R,A,_,F,U=r[0],S=r[1],L=r[2],P=Math.sqrt(U*U+S*S+L*L);return Math.abs(P)<i?null:(U*=P=1/P,S*=P,L*=P,o=Math.sin(n),s=1-(a=Math.cos(n)),u=e[0],l=e[1],c=e[2],h=e[3],f=e[4],g=e[5],d=e[6],m=e[7],v=e[8],p=e[9],T=e[10],b=e[11],x=U*U*s+a,M=S*U*s+L*o,E=L*U*s-S*o,y=U*S*s-L*o,w=S*S*s+a,R=L*S*s+U*o,A=U*L*s+S*o,_=S*L*s-U*o,F=L*L*s+a,t[0]=u*x+f*M+v*E,t[1]=l*x+g*M+p*E,t[2]=c*x+d*M+T*E,t[3]=h*x+m*M+b*E,t[4]=u*y+f*w+v*R,t[5]=l*y+g*w+p*R,t[6]=c*y+d*w+T*R,t[7]=h*y+m*w+b*R,t[8]=u*A+f*_+v*F,t[9]=l*A+g*_+p*F,t[10]=c*A+d*_+T*F,t[11]=h*A+m*_+b*F,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function x(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t}function M(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t}function E(t,e,n){let r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,e,n){let r,o,a,s=n[0],u=n[1],l=n[2],c=Math.sqrt(s*s+u*u+l*l);return Math.abs(c)<i?null:(s*=c=1/c,u*=c,l*=c,r=Math.sin(e),a=1-(o=Math.cos(e)),t[0]=s*s*a+o,t[1]=u*s*a+l*r,t[2]=l*s*a-u*r,t[3]=0,t[4]=s*u*a-l*r,t[5]=u*u*a+o,t[6]=l*u*a+s*r,t[7]=0,t[8]=s*l*a+u*r,t[9]=u*l*a-s*r,t[10]=l*l*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function A(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,e){let n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,e,n){let r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,u=i+i,l=o+o,c=r*s,h=r*u,f=r*l,g=i*u,d=i*l,m=o*l,v=a*s,p=a*u,T=a*l;return t[0]=1-(g+m),t[1]=h+T,t[2]=f-p,t[3]=0,t[4]=h-T,t[5]=1-(c+m),t[6]=d+v,t[7]=0,t[8]=f+p,t[9]=d-v,t[10]=1-(c+g),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function S(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function L(t,e){let n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+l*l+c*c),t}function P(t,e){let n=e[0]+e[5]+e[10],r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function I(t,e,n,r){let i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,l=o+o,c=a+a,h=i*u,f=i*l,g=i*c,d=o*l,m=o*c,v=a*c,p=s*u,T=s*l,b=s*c,x=r[0],M=r[1],E=r[2];return t[0]=(1-(d+v))*x,t[1]=(f+b)*x,t[2]=(g-T)*x,t[3]=0,t[4]=(f-b)*M,t[5]=(1-(h+v))*M,t[6]=(m+p)*M,t[7]=0,t[8]=(g+T)*E,t[9]=(m-p)*E,t[10]=(1-(h+d))*E,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function D(t,e,n,r,i){let o=e[0],a=e[1],s=e[2],u=e[3],l=o+o,c=a+a,h=s+s,f=o*l,g=o*c,d=o*h,m=a*c,v=a*h,p=s*h,T=u*l,b=u*c,x=u*h,M=r[0],E=r[1],y=r[2],w=i[0],R=i[1],A=i[2];return t[0]=(1-(m+p))*M,t[1]=(g+x)*M,t[2]=(d-b)*M,t[3]=0,t[4]=(g-x)*E,t[5]=(1-(f+p))*E,t[6]=(v+T)*E,t[7]=0,t[8]=(d+b)*y,t[9]=(v-T)*y,t[10]=(1-(f+m))*y,t[11]=0,t[12]=n[0]+w-(t[0]*w+t[4]*R+t[8]*A),t[13]=n[1]+R-(t[1]*w+t[5]*R+t[9]*A),t[14]=n[2]+A-(t[2]*w+t[6]*R+t[10]*A),t[15]=1,t}function C(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,l=n*a,c=r*a,h=r*s,f=i*a,g=i*s,d=i*u,m=o*a,v=o*s,p=o*u;return t[0]=1-h-d,t[1]=c+p,t[2]=f-v,t[3]=0,t[4]=c-p,t[5]=1-l-d,t[6]=g+m,t[7]=0,t[8]=f+v,t[9]=g-m,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function B(t,e,n,r,i,o,a){let s=1/(n-e),u=1/(i-r),l=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*u,t[10]=(a+o)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*l,t[15]=0,t}function X(t,e,n,r,i){let o=1/Math.tan(e/2),a=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*a,t[15]=0,t}function O(t,e,n,r){let i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function k(t,e,n,r,i,o,a){let s=1/(e-n),u=1/(r-i),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*u,t[14]=(a+o)*l,t[15]=1,t}function G(t,e,n,r){let o,a,s,u,l,c,h,f,g,d,m=e[0],v=e[1],p=e[2],T=r[0],b=r[1],x=r[2],M=n[0],E=n[1],y=n[2];return Math.abs(m-M)<i&&Math.abs(v-E)<i&&Math.abs(p-y)<i?mat4.identity(t):(h=m-M,f=v-E,g=p-y,o=b*(g*=d=1/Math.sqrt(h*h+f*f+g*g))-x*(f*=d),a=x*(h*=d)-T*g,s=T*f-b*h,(d=Math.sqrt(o*o+a*a+s*s))?(o*=d=1/d,a*=d,s*=d):(o=0,a=0,s=0),u=f*s-g*a,l=g*o-h*s,c=h*a-f*o,(d=Math.sqrt(u*u+l*l+c*c))?(u*=d=1/d,l*=d,c*=d):(u=0,l=0,c=0),t[0]=o,t[1]=u,t[2]=h,t[3]=0,t[4]=a,t[5]=l,t[6]=f,t[7]=0,t[8]=s,t[9]=c,t[10]=g,t[11]=0,t[12]=-(o*m+a*v+s*p),t[13]=-(u*m+l*v+c*p),t[14]=-(h*m+f*v+g*p),t[15]=1,t)}function N(t,e,n,r){let i=e[0],o=e[1],a=e[2],s=r[0],u=r[1],l=r[2],c=i-n[0],h=o-n[1],f=a-n[2],g=c*c+h*h+f*f;g>0&&(c*=g=1/Math.sqrt(g),h*=g,f*=g);let d=u*f-l*h,m=l*c-s*f,v=s*h-u*c;return t[0]=d,t[1]=m,t[2]=v,t[3]=0,t[4]=h*v-f*m,t[5]=f*d-c*v,t[6]=c*m-h*d,t[7]=0,t[8]=c,t[9]=h,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function q(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Y(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function j(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function V(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function H(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function z(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function W(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Q(t,e){let n=t[0],r=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],h=t[8],f=t[9],g=t[10],d=t[11],m=t[12],v=t[13],p=t[14],T=t[15],b=e[0],x=e[1],M=e[2],E=e[3],y=e[4],w=e[5],R=e[6],A=e[7],_=e[8],F=e[9],U=e[10],S=e[11],L=e[12],P=e[13],I=e[14],D=e[15];return Math.abs(n-b)<=i*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-x)<=i*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(o-M)<=i*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(a-E)<=i*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(s-y)<=i*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-w)<=i*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(l-R)<=i*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(c-A)<=i*Math.max(1,Math.abs(c),Math.abs(A))&&Math.abs(h-_)<=i*Math.max(1,Math.abs(h),Math.abs(_))&&Math.abs(f-F)<=i*Math.max(1,Math.abs(f),Math.abs(F))&&Math.abs(g-U)<=i*Math.max(1,Math.abs(g),Math.abs(U))&&Math.abs(d-S)<=i*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(m-L)<=i*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(v-P)<=i*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(p-I)<=i*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(T-D)<=i*Math.max(1,Math.abs(T),Math.abs(D))}const Z=v,K=V;function $(){let t=new o(3);return t[0]=0,t[1]=0,t[2]=0,t}function J(t,e,n){let r=new o(3);return r[0]=t,r[1]=e,r[2]=n,r}function tt(t,e){let n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function et(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function nt(t,e,n){let r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}const rt=function(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)};!function(){let t=$()}();function it(t,e){let n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a),t}!function(){let t=function(){let t=new o(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}()}();function ot(){let t=new o(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function at(t,e,n,r){let i,o,a,s,u,l=e[0],c=e[1],h=e[2],f=e[3],g=n[0],d=n[1],m=n[2],v=n[3];return(o=l*g+c*d+h*m+f*v)<0&&(o=-o,g=-g,d=-d,m=-m,v=-v),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,u=Math.sin(r*i)/a):(s=1-r,u=r),t[0]=s*l+u*g,t[1]=s*c+u*d,t[2]=s*h+u*m,t[3]=s*f+u*v,t}const st=it;(function(){let t=$(),e=J(1,0,0),n=J(0,1,0)})(),function(){let t=ot(),e=ot()}(),function(){let t=function(){let t=new o(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}()}();!function(){let t=function(){let t=new o(2);return t[0]=0,t[1]=0,t}()}();var ut=function(){function t(t){this.gl=t,this.isSlotUsed={},this.maxTextures=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)}return t.prototype.getNewSlot=function(){for(var t=0;this.isSlotUsed[t];)t++;return t===this.maxTextures&&console.warn("Max slots exceeded"),this.isSlotUsed[t]=!0,t},t.prototype.freeSlot=function(t){if(t>this.maxTextures)throw new RangeError("Invalid slot number");this.isSlotUsed[t]=!1},t}(),lt=n(10);(new Image).src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";var ct=function(){return function(t,e,n,r){this.name=t,this.texture=e,this.id=n,this.data=r,this.type="image"}}(),ht=function(){return function(t,e,n,r){this.name=t,this.texture=e,this.id=n,this.data=r,this.type="video"}}();var ft=function(){function t(t,e){this.gl=t,this.slot=e,this.textures=[],this.isTextureLoaded={},this.isTextureUpdated={},this.isTextureVideo={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.maxTextures=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS)}return t.prototype.loadTexture=function(t,e){return lt(e)?this.loadVideoTexture(t,e):this.loadImageTexture(t,e)},t.prototype.loadImageTexture=function(t,e){var n=this,r=this.gl.createTexture();if(!r)throw new Error("Failed to run gl.createTexture");var i=this.slot.getNewSlot(),o=new Image;return o.src=e,this.isTextureLoaded[i]=!0,new Promise(function(e){o.onload=function(){var a=new ct(t,r,i,o);n.textures[i]=a,n.bindTexture(r,o),n.isTextureUpdated[i]=!0,e(a)}})},t.prototype.loadVideoTexture=function(t,e){var n=this,r=this.gl.createTexture();if(!r)throw new Error("Failed to run gl.createTexture");var i=this.textures.find(function(e){return!!e&&e.name===t});if(i)return Promise.resolve(i);var o=this.slot.getNewSlot(),a=document.createElement("video");return a.src=e,a.muted=!0,a.loop=!0,a.style.position="fixed",a.style.top="-100000%",a.style.left="-100000%",document.body.appendChild(a),this.isTextureLoaded[o]=!0,new Promise(function(e){a.addEventListener("canplaythrough",function(){a.play();var i=new ht(t,r,o,a);n.textures[o]=i,n.bindTexture(r,a),n.isTextureUpdated[o]=!0,n.isTextureVideo[o]=!0,e(i)})})},t.prototype.bindTexture=function(t,e){this.gl.isTexture(t),this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},t.prototype.unloadTexture=function(t){var e=this;this.textures.forEach(function(n){n&&n.name===t&&(e.isTextureLoaded[n.id]=!1,e.gl.deleteTexture(n.texture),function(t){return"video"===t.type}(n)&&(n.data.pause(),n.data.remove()),e.textures[n.id]=null,e.slot.freeSlot(n.id))})},t.prototype.getUpdatedTextures=function(){var t=this;this.textures.forEach(function(e){e&&t.isTextureVideo[e.id]&&t.isTextureLoaded[e.id]&&(t.bindTexture(e.texture,e.data),t.isTextureUpdated[e.id]=!0)});var e=this.textures.filter(function(e){return e&&t.isTextureUpdated[e.id]});return this.isTextureUpdated={},e},t}(),gt=function(){function t(t,e,n,r){this.gl=t,this.slotAllocator=e,this.width=n,this.height=r,this.slot=e.getNewSlot(),this.framebuffer=this.createFramebuffer(),this.textures=[this.createTexture(),this.createTexture()],this.bindTextureToFramebuffer()}return t.prototype.createFramebuffer=function(){var t=this.gl.createFramebuffer();if(!t)throw new Error("Failed to run gl.createFramebuffer");return t},t.prototype.createTexture=function(){var t=this.gl.createTexture();if(!t)throw new Error("Failed to run gl.createTexture");return this.gl.bindTexture(this.gl.TEXTURE_2D,t),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.width,this.height,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),t},t.prototype.bindTextureToFramebuffer=function(){this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this.framebuffer),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this.textures[0],0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null)},t.prototype.update=function(){this.textures=[this.textures[1],this.textures[0]],this.bindTextureToFramebuffer()},t.prototype.resize=function(t,e){var n=this;this.width=t,this.height=e,this.textures.forEach(function(r){n.gl.bindTexture(n.gl.TEXTURE_2D,r),n.gl.texImage2D(n.gl.TEXTURE_2D,0,n.gl.RGBA,t,e,0,n.gl.RGBA,n.gl.UNSIGNED_BYTE,null)}),this.gl.bindTexture(this.gl.TEXTURE_2D,null)},t.prototype.destroy=function(){this.slotAllocator.freeSlot(this.slot)},t}(),dt={vs:n(0),fs:n(1)},mt=Date.now()/1e3,vt=function(){function t(t){var e=this;this.element=t,this.isPlaying=!1,this.isLoading=!1,this.frame=0,this.onMouseMove=function(t){e.setUniform("mouse","v2",{x:t.offsetX/e.canvas.offsetWidth,y:1-t.offsetY/e.canvas.offsetHeight})},this.render=function(){e.frame++,e.isPlaying&&(e.frame%1==0?(e.updateUniforms(),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,e.backbuffer.framebuffer),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.drawArrays(e.gl.TRIANGLES,0,3),e.gl.drawArrays(e.gl.TRIANGLES,3,3),e.gl.bindFramebuffer(e.gl.FRAMEBUFFER,null),e.gl.clear(e.gl.COLOR_BUFFER_BIT|e.gl.DEPTH_BUFFER_BIT),e.gl.drawArrays(e.gl.TRIANGLES,0,3),e.gl.drawArrays(e.gl.TRIANGLES,3,3),e.gl.flush(),requestAnimationFrame(e.render)):requestAnimationFrame(e.render))},this.resize=function(){e.canvas.width=e.canvas.offsetWidth,e.canvas.height=e.canvas.offsetHeight,e.gl.viewport(0,0,e.canvas.width,e.canvas.height),e.backbuffer.resize(e.canvas.offsetWidth,e.canvas.offsetHeight),e.mvpMatrix=e.createMvpMatrix()},this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.width="100%",this.canvas.style.height="100%",t.appendChild(this.canvas),this.gl=this.canvas.getContext("webgl2"),this.slot=new ut(this.gl),this.textureLoader=new ft(this.gl,this.slot),this.backbuffer=new gt(this.gl,this.slot,this.canvas.offsetWidth,this.canvas.offsetHeight),this.gl.clearColor(0,0,0,1),this.gl.clearDepth(1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.program=this.createProgramFromShaders(dt),this.mvpMatrix=this.createMvpMatrix(),this.resize(),this.resizeObserver=new window.ResizeObserver(this.resize),this.resizeObserver.observe(this.canvas),this.canvas.addEventListener("mousemove",this.onMouseMove)}return t.prototype.loadShader=function(t){var e=t.vs,n=t.fs;this.isLoading=!0,this.program=this.createProgramFromShaders({vs:e,fs:n})},t.prototype.createProgramFromShaders=function(t){var e=t.vs,n=t.fs,r=this.createVs(e),i=this.createFs(n),o=this.createProgram(r,i),a=[1,1,0].concat([1,-1,0],[-1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]).map(function(t){return 9999*t}),s=this.createVbo(a);this.gl.bindBuffer(this.gl.ARRAY_BUFFER,s);var u=this.gl.getAttribLocation(o,"position");return this.gl.enableVertexAttribArray(u),this.gl.vertexAttribPointer(u,3,this.gl.FLOAT,!1,0,0),o},t.prototype.loadTexture=function(t,e){return this.textureLoader.loadTexture(t,e)},t.prototype.unloadTexture=function(t){this.textureLoader.unloadTexture(t)},t.prototype.createVs=function(t){var e=this.gl.createShader(this.gl.VERTEX_SHADER);if(!e)throw new Error("Failed to run gl.createShader");return this.gl.shaderSource(e,t),this.gl.compileShader(e),this.gl.getShaderParameter(e,this.gl.COMPILE_STATUS)||console.log(this.gl.getShaderInfoLog(e)),e},t.prototype.createFs=function(t){var e=this.gl.createShader(this.gl.FRAGMENT_SHADER);if(!e)throw new Error("Failed to run gl.createShader");return this.gl.shaderSource(e,t),this.gl.compileShader(e),this.gl.getShaderParameter(e,this.gl.COMPILE_STATUS)||console.log(this.gl.getShaderInfoLog(e)),e},t.prototype.createProgram=function(t,e){var n=this.gl.createProgram();if(!n)throw new Error("Failed to run gl.createProgram");return this.gl.attachShader(n,t),this.gl.attachShader(n,e),this.gl.linkProgram(n),this.gl.getProgramParameter(n,this.gl.LINK_STATUS)||console.error(this.gl.getProgramInfoLog(n)),this.gl.useProgram(n),n},t.prototype.createVbo=function(t){var e=this.gl.createBuffer();if(!e)throw new Error("Failed to run gl.createBuffer");return this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(t),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),e},t.prototype.setUniform=function(t,e,n){var r=this.gl.getUniformLocation(this.program,t);if(r)switch(e){case"f":this.gl.uniform1f(r,n);break;case"v2":this.gl.uniform2f(r,n.x,n.y);break;case"m4":this.gl.uniformMatrix4fv(r,!1,n);break;case"t":this.gl.activeTexture(this.gl.TEXTURE0+n.id),this.gl.bindTexture(this.gl.TEXTURE_2D,n.texture),this.gl.uniform1i(r,n.id);break;default:console.log('Uniform type "'+e+'" is unsupported')}},t.prototype.updateUniforms=function(){var t=this;this.setUniform("mvpMatrix","m4",this.mvpMatrix),this.setUniform("time","f",Date.now()/1e3-mt),this.setUniform("resolution","v2",{x:this.canvas.offsetWidth,y:this.canvas.offsetHeight}),this.textureLoader.getUpdatedTextures().forEach(function(e){t.setUniform(e.name,"t",e)}),this.backbuffer.update();var e=this.gl.getUniformLocation(this.program,"backbuffer");this.gl.activeTexture(this.gl.TEXTURE0+this.backbuffer.slot),this.gl.bindTexture(this.gl.TEXTURE_2D,this.backbuffer.textures[1]),this.gl.uniform1i(e,this.backbuffer.slot)},t.prototype.start=function(){this.isPlaying=!0,requestAnimationFrame(this.render)},t.prototype.stop=function(){this.isPlaying=!1},t.prototype.createMvpMatrix=function(){var t=r.create(),e=r.create(),n=r.create(),i=r.create();return r.lookAt(e,[0,0,1],[0,0,0],[0,1,0]),r.perspective(n,.5*Math.PI,this.canvas.offsetWidth/this.canvas.offsetHeight,.1,1e3),r.mul(i,n,e),r.mul(i,t,i),i},t}(),pt=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},Tt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},bt={shader1:{vs:n(0),fs:n(1)},mouse:{vs:n(0),fs:n(6)},backbuffer:{vs:n(0),fs:n(5)},image:{vs:n(0),fs:n(4),imported:{lena:"./cat.jpg"}},video:{vs:n(0),fs:n(3),imported:{video1:"./videos/1.mp4",video2:"./videos/2.mp4",video3:"./videos/3.mp4"}}},xt=[];window.addEventListener("load",function(){var t=document.getElementById("main"),e=new vt(t);Array.from(document.querySelectorAll("#menu li")).forEach(function(t){t.addEventListener("click",function(){return function(t,e){return pt(void 0,void 0,void 0,function(){var n,r,i,o,a,s;return Tt(this,function(u){return r=(n=bt[e]).vs,i=n.fs,o=n.imported,a=void 0===o?{}:o,s=[],[2,Promise.all(Object.keys(a).map(function(e){return s.push(e),t.loadTexture(e,a[e])})).then(function(){t.loadShader({vs:r,fs:i}),xt.forEach(function(e){-1===s.indexOf(e)&&t.unloadTexture(e)}),xt=s})]})})}(e,t.innerText)})}),e.start(),t.addEventListener("click",function(){return e.isPlaying?e.stop():e.start()})})},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D video1;\nuniform sampler2D video2;\nuniform sampler2D video3;\nout vec4 fragColor;\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / resolution;\n    vec4 v1 = texture(video1, uv);\n    vec4 v2 = texture(video2, uv);\n    vec4 v3 = texture(video3, uv);\n    fragColor = vec4(\n      v1.r + v2.r,\n      v2.g + v3.g,\n      v3.b + v1.b,\n      1\n    );\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D lena;\nout vec4 fragColor;\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / resolution;\n    uv.y = 1. - uv.y;\n    uv.y *= .5;\n    fragColor = texture(lena, fract(uv + time * -.1));\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nuniform float time;\nuniform vec2 resolution;\nuniform sampler2D backbuffer;\nout vec4 fragColor;\n\nfloat draw(in vec2 p, in float t) {\n  float c = 0.;\n  c += 0.03 / length(p - vec2(sin(t * 2.), cos(t * 3.)));\n  c += 0.03 / length(p - vec2(sin(t * 1.3), cos(t * 2.8)));\n  c += 0.03 / length(p - vec2(sin(t * 3.9), cos(t * 1.7)));\n  c += 0.03 / length(p - vec2(cos(t * 3.47), sin(t * 3.9)));\n  return c;\n}\n\nvoid main() {\n  vec2 p = (gl_FragCoord.xy * 2. - resolution) / min(resolution.x, resolution.y);\n  float t = time * .1;\n\n  float c = (\n    draw(p, t) +\n    draw(p * vec2(1, -1), t + .2) +\n    draw(p * vec2(-1, 1), t + .4) +\n    draw(p * vec2(-1, -1), t + .5)\n  );\n\n  float d = .4;\n  c = smoothstep(d, d + .01, c * c * c);\n\n  vec4 b = texture(backbuffer, gl_FragCoord.xy / resolution);\n\n  fragColor = vec4(c * vec3(0.2, 0.3, 0.8), 1) + b * 0.9;\n  fragColor.r = texture(backbuffer, gl_FragCoord.xy / resolution + .03).g;\n}\n"},function(t,e){t.exports="#version 300 es\nprecision mediump float;\n#define GLSLIFY 1\nuniform float time;\nuniform vec2 resolution;\nuniform vec2 mouse;\nout vec4 fragColor;\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / resolution;\n  float t = time * 1.7;\n\n  vec3 c = .08 / (\n    vec3(1,1,0) * length(uv - mouse + .04 * vec2(sin(t * 1.3), cos(t * 0.7))) +\n    vec3(1,0,1) * length(uv - mouse + .04 * vec2(cos(t * 2.3), sin(t * 1.7))) +\n    vec3(0,1,1) * length(uv - mouse + .04 * vec2(sin(t * 3.3), sin(t * 2.7)))\n  );\n\n  fragColor = vec4(c, 1);\n}\n"},function(t){t.exports=["3g2","3gp","aaf","asf","avchd","avi","drc","flv","m2v","m4p","m4v","mkv","mng","mov","mp2","mp4","mpe","mpeg","mpg","mpv","mxf","nsv","ogg","ogv","qt","rm","rmvb","roq","svi","vob","webm","wmv","yuv"]},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&g())}function g(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(g)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return e=n(o(e.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+e||"."},e.normalize=function(t){var r=e.isAbsolute(t),i="/"===a(t,-1);return(t=n(o(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=i(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=i(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return i(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(8))},function(t,e,n){"use strict";var r=n(9),i=n(7),o=Object.create(null);i.forEach(function(t){o[t]=!0}),t.exports=function(t){return r.extname(t).slice(1).toLowerCase()in o}}]);